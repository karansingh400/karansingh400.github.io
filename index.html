<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Karan Pratap Singh ‚Äî Technical Program/Project Manager</title>
  <meta name="description" content="PMP, CSM. 9+ years leading AI/data programs across healthcare, retail and SaaS. Projects, experience and contact." />
  <meta name="color-scheme" content="dark light" />
  <meta property="og:title" content="Karan Pratap Singh ‚Äî Technical Program/Project Manager" />
  <meta property="og:description" content="PMP, CSM. 9+ years leading AI/data programs across healthcare, retail and SaaS." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og.png" />
  <meta name="theme-color" content="#121417" />

  <style>
    /* ==========================
       Dark (default) ‚Äî Blue accent
       ========================== */
    :root{
      --bg:#0e1217;          /* page background */
      --bg-soft:#141923;     /* card background */
      --txt:#e7e9ee;         /* main text */
      --sub:#a8b0bd;         /* secondary text */
      --brand:#3aa0ff;       /* blue */
      --brand-2:#7dd3fc;     /* sky */
      --ok:#10b981;          /* green */
      --warn:#f59e0b;        /* amber */
      --muted:#242b36;       /* borders / separators */
      --shadow: 0 14px 36px rgba(0,0,0,.45);
      --radius: 16px;
      --portrait-bg: radial-gradient(65% 65% at 30% 30%, color-mix(in oklab, var(--brand) 40%, transparent), transparent 60%),
                     radial-gradient(65% 65% at 70% 70%, color-mix(in oklab, var(--brand-2) 35%, transparent), transparent 60%),
                     var(--bg-soft);
    }

    /* ==========================
       Light ‚Äî subtle lavender with blue accent
       ========================== */
    [data-theme="light"]{
      --bg:#f6f7fb;
      --bg-soft:#ffffff;
      --txt:#0b1220;
      --sub:#546071;
      --brand:#2563eb;     /* blue-600 */
      --brand-2:#60a5fa;   /* blue-400 */
      --ok:#059669;
      --warn:#b45309;
      --muted:#e6e8ee;
      --shadow: 0 18px 38px rgba(9,14,26,.08);
      --portrait-bg: radial-gradient(65% 65% at 30% 30%, color-mix(in oklab, var(--brand) 18%, transparent), transparent 60%),
                     radial-gradient(65% 65% at 70% 70%, color-mix(in oklab, var(--brand-2) 18%, transparent), transparent 60%),
                     var(--bg-soft);
    }

    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(1000px 700px at 110% -10%, rgba(58,160,255,.08), transparent 60%),
        radial-gradient(900px 600px at -10% -10%, rgba(125,211,252,.06), transparent 55%),
        var(--bg);
      color:var(--txt);
      line-height:1.6;
    }
    [data-theme="light"] body{
      background:
        radial-gradient(1000px 700px at 110% -10%, rgba(37,99,235,.10), transparent 60%),
        radial-gradient(900px 600px at -10% -10%, rgba(96,165,250,.10), transparent 55%),
        var(--bg);
    }

    .container{max-width:1100px; margin:0 auto; padding: 24px;}
    header{position:sticky; top:0; backdrop-filter: blur(10px); background: color-mix(in oklab, var(--bg) 78%, transparent); border-bottom:1px solid var(--muted); z-index:10}
    [data-theme="light"] header{ background: rgba(255,255,255,.75); border-bottom-color: var(--muted); }
    nav{display:flex; align-items:center; justify-content:space-between; gap:16px;}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--txt)}
    .brand .dot{width:10px; height:10px; border-radius:50%; background:linear-gradient(45deg, var(--brand), var(--brand-2)); box-shadow:0 0 0 4px color-mix(in oklab, var(--brand) 20%, transparent)}
    .brand strong{font-weight:700; letter-spacing:.2px}
    .menu a{color:var(--sub); text-decoration:none; padding:8px 12px; border-radius:10px}
    .menu a:hover{background:var(--muted); color:var(--txt)}
    .toggle{border:2px solid color-mix(in oklab, var(--brand) 70%, transparent); background:var(--bg-soft); color:var(--txt); border-radius:14px; padding:8px 12px; cursor:pointer; box-shadow:0 0 0 2px color-mix(in oklab, var(--brand) 20%, transparent)}

    .hero{display:grid; grid-template-columns: 1.2fr .8fr; gap:28px; align-items:center; padding: 40px 0}
    .card{background:linear-gradient(180deg, color-mix(in oklab, var(--bg-soft) 92%, transparent), var(--bg-soft)); border:1px solid var(--muted); border-radius: var(--radius); box-shadow: var(--shadow)}
    .p24{padding:24px}
    .pill{display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border:1px solid var(--muted); border-radius:999px; font-size:12px; color:var(--sub); background: color-mix(in oklab, var(--bg) 85%, transparent)}
    [data-theme="light"] .pill{ background: linear-gradient(0deg, rgba(37,99,235,.06), rgba(96,165,250,.06)); }

    h1{font-size: clamp(28px, 5vw, 44px); line-height:1.18; margin:10px 0 14px}
    .lead{font-size: clamp(15px, 2.2vw, 18px); color:var(--sub); margin: 0 0 18px}
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin-top:20px}
    .btn{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:12px; border:1px solid var(--muted); text-decoration:none; color:var(--txt); background: var(--bg-soft)}
    .btn.primary{background: linear-gradient(90deg, var(--brand), var(--brand-2)); border:0; color:white}
    .btn:hover{transform: translateY(-1px); box-shadow: var(--shadow)}

    .grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:18px}
    .span-12{grid-column: span 12}
    .span-8{grid-column: span 8}
    .span-4{grid-column: span 4}
    @media (max-width: 900px){ .hero{grid-template-columns: 1fr} .span-8,.span-4{grid-column: span 12} }

    section{scroll-margin-top:80px; margin: 30px 0 40px}
    section h2{font-size: clamp(20px, 2.6vw, 28px); margin:0 0 10px}
    section p.sub{color:var(--sub); margin:0 0 14px}

    .about .kv{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}
    .chip{font-size:12px; padding:6px 10px; background:color-mix(in oklab, var(--bg) 85%, transparent); border:1px solid var(--muted); border-radius:999px}
    [data-theme="light"] .chip{ background: linear-gradient(0deg, rgba(37,99,235,.05), rgba(96,165,250,.05)); }

    .projects .controls{display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:space-between}
    .controls .left{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    select, input[type="search"]{background:var(--bg-soft); color:var(--txt); border:1px solid var(--muted); border-radius:10px; padding:8px 10px}

    .repo-grid{display:grid; grid-template-columns: repeat(auto-fill,minmax(260px, 1fr)); gap:16px; margin-top:16px}
    .repo{display:flex; flex-direction:column; gap:10px; padding:16px; border:1px solid var(--muted); border-radius:14px; background:linear-gradient(180deg, color-mix(in oklab, var(--bg-soft) 95%, transparent), var(--bg-soft))}
    .repo h3{font-size:16px; margin:0}
    .repo h3 a{color:var(--txt); text-decoration:none; line-height:1.25; overflow-wrap:anywhere; hyphens:auto}
    .repo p{color:var(--sub); margin:0; font-size:14px}
    .meta{display:flex; gap:10px; flex-wrap:wrap; align-items:center; color:var(--sub); font-size:12px}
    .topic{font-size:11px; padding:4px 8px; border:1px solid var(--muted); border-radius:999px; color:var(--sub)}

    .skeleton{animation: pulse 1.2s infinite ease-in-out; background: linear-gradient(90deg, color-mix(in oklab, var(--bg) 85%, transparent), color-mix(in oklab, var(--bg) 80%, transparent) 25%, color-mix(in oklab, var(--bg) 85%, transparent) 50%); background-size:200% 100%; height:120px; border-radius:14px; border:1px solid var(--muted)}
    @keyframes pulse{0%{background-position:0 0}100%{background-position:-200% 0}}

    footer{color:var(--sub); border-top:1px solid var(--muted); margin-top:40px; padding:20px 0}
    .links{display:flex; gap:10px; flex-wrap:wrap}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}

    /* ===== Portrait styles ===== */
    .portrait{display:grid; place-items:center; gap:12px}
    .portrait .circle{width: clamp(160px, 40vw, 280px); aspect-ratio:1; border-radius:50%; padding:10px; background: var(--portrait-bg); border:1px solid var(--muted); box-shadow: var(--shadow);} 
    .portrait img{width:100%; height:100%; object-fit:cover; border-radius:50%; display:block}

    /* ===== Experience section ===== */
    .experience .xp-grid{display:grid; grid-template-columns: 1fr; gap:18px}
    .experience .xp{position:relative; background:linear-gradient(180deg, color-mix(in oklab, var(--bg-soft) 96%, transparent), var(--bg-soft)); border:1px solid var(--muted); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px 18px 18px 22px}
    .experience .xp::before{content:""; position:absolute; left:0; top:0; bottom:0; width:3px; border-radius:3px 0 0 3px; background:linear-gradient(180deg, var(--brand), var(--brand-2))}
    .experience .role{font-weight:700; font-size:18px}
    .experience .meta{color:var(--sub); font-size:14px; margin-top:4px}
    .experience .desc{margin-top:10px}
    @media (min-width:900px){ .experience .xp-grid{grid-template-columns: 1fr 1fr} }

    /* ===== Stats strip ===== */
    .stats{position:relative; padding:40px 0 30px; background:
      radial-gradient(800px 400px at 50% -200px, color-mix(in oklab, var(--brand) 25%, transparent), transparent 60%),
      radial-gradient(800px 400px at 50% 200px, color-mix(in oklab, var(--brand-2) 18%, transparent), transparent 60%),
      var(--bg);
    }
    .stat-grid{max-width:1100px; margin:0 auto; display:grid; grid-template-columns: repeat(3,1fr); gap:24px; padding:0 24px}
    .stat{background: var(--bg-soft); border:1px solid var(--muted); border-radius:16px; box-shadow: var(--shadow); padding:28px; text-align:center}
    .stat .num{font-size:36px; font-weight:800; color: var(--brand)}
    .stat .label{color: var(--sub); margin-top:8px}
    @media (max-width:900px){ .stat-grid{grid-template-columns:1fr} }

    /* tiny test status badge */
    #testStatus{position:fixed; right:12px; bottom:12px; padding:6px 10px; border-radius:10px; font-size:12px; border:1px solid var(--muted); background:var(--bg-soft); z-index:99}
    #testStatus.pass{color:#10b981}
    #testStatus.fail{color:#ef4444}
  </style>
</head>

<body>
  <a class="sr-only" href="#main">Skip to content</a>

  <!-- Header / Nav -->
  <header>
    <div class="container">
      <nav>
        <a class="brand" href="#top">
          <span class="dot" aria-hidden="true"></span>
          <strong>Karan Pratap Singh</strong>
        </a>
        <div class="menu" role="navigation" aria-label="Primary">
          <a href="#projects">Projects</a>
          <a href="#experience">Experience</a>
          <a href="#contact">Contact</a>
        </div>
        <button id="themeToggle" class="toggle" aria-label="Toggle theme">‚òÄÔ∏é/‚òæ</button>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <!-- Hero -->
    <section class="hero" id="top">
      <div class="card p24">
        <span class="pill">Technical Program / Project Manager ¬∑ AI & Data Programs</span>
        <h1>I lead cross-functional teams to ship AI-enabled, data-driven outcomes.</h1>
        <p class="lead">
          PMP¬Æ and CSM¬Æ with 9+ years across healthcare, retail, and SaaS. I drive program governance,
          align product‚Äìengineering‚Äìanalytics, and land measurable results‚Äîfraud reduction, faster
          pipelines, and better forecasts. Tools include BigQuery, Power BI, SQL, Python and the big three clouds.
        </p>
        <div class="cta">
          <a class="btn primary" href="#projects" aria-label="View projects">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 5v14m7-7H5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            See Projects
          </a>
          <a class="btn" id="resumeBtn" href="resume.pdf" target="_blank" rel="noopener">üìÑ Resume</a>
          <a class="btn" href="https://github.com/karansingh400" target="_blank" rel="noopener">GitHub</a>
          <a class="btn" href="https://www.linkedin.com/in/karan-singh-8a6614374/" target="_blank" rel="noopener">LinkedIn</a>
        </div>
      </div>

      <div class="card p24">
        <figure class="portrait" aria-labelledby="photoTitle">
          <div class="circle">
            <img src="about-me.jpeg" alt="Portrait of Karan Pratap Singh" loading="eager" decoding="async" />
          </div>
          <figcaption id="photoTitle" class="sub" style="text-align:center">Hey! I'm Karan üëã</figcaption>
        </figure>

        <p id="aboutBlurb" class="sub" style="margin:10px 0 16px">
          I enjoy turning business goals into clear, deliverable roadmaps‚Äîand then shipping them.
          My happy place: crisp KPIs, predictable delivery, and AI + automation that makes ops lighter.
        </p>

        <h2 style="margin-top:4px">Toolbox</h2>
        <div class="about kv">
          <span class="chip">BigQuery</span>
          <span class="chip">Power BI</span>
          <span class="chip">Tableau</span>
          <span class="chip">SQL</span>
          <span class="chip">Python</span>
          <span class="chip">Airflow / ADF</span>
          <span class="chip">AWS ¬∑ Azure ¬∑ GCP</span>
          <span class="chip">Jira / Confluence</span>
        </div>
        <div class="about kv" style="margin-top:8px">
          <span class="chip">PMP¬Æ</span>
          <span class="chip">CSM¬Æ</span>
          <span class="chip">AWS Data Engineer</span>
          <span class="chip">Databricks Lakehouse</span>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section id="experience" class="experience">
      <h2>Experience</h2>
      <div class="xp-grid">
        <article class="xp">
          <div class="role">Technical Project Manager</div>
          <div class="meta">UnitedHealth Group ¬∑ Dallas, TX ¬∑ Feb 2025 ‚Äì Present</div>
          <p class="desc">
            Led delivery of an AI-driven consumer experience & fraud platform‚Äîdefining KPIs, governance cadence,
            and privacy alignment (SOX/PCI/HIPAA). Drove Azure-powered analytics to Power BI for real-time risk visibility
            and cut investigation turnaround by 40%; influenced automation investments with $25M+ annual savings.
          </p>
        </article>

        <article class="xp">
          <div class="role">Technical Project Manager</div>
          <div class="meta">Walmart Global Tech ¬∑ Bentonville, AR ¬∑ Aug 2024 ‚Äì Jan 2025</div>
          <p class="desc">
            Orchestrated a data-driven forecasting & recommendation program: ADF/Databricks hourlies,
            KPI monitoring (+20% accuracy), and financial ‚Äúwhat-if‚Äù simulations (planning time ‚àí70%).
            Presented executive insights that improved transparency across forecasting decisions.
          </p>
        </article>

        <article class="xp">
          <div class="role">Business Analyst</div>
          <div class="meta">Target ¬∑ Dallas, TX ¬∑ Aug 2022 ‚Äì Jul 2024</div>
          <p class="desc">
            Ran Agile delivery for a BigQuery + Power BI segmentation & recommendation engine (50M+ tx/day),
            boosting personalization (+12% accuracy), automating campaigns via Airflow (SLA breaches ‚àí70%),
            and driving a +9% AOV uplift through A/B testing.
          </p>
        </article>

        <article class="xp">
          <div class="role">Data Analyst</div>
          <div class="meta">Walmart ¬∑ Noida, India ¬∑ Feb 2020 ‚Äì Jul 2022</div>
          <p class="desc">
            Helped stand up e-commerce risk analytics on GCP for real-time fraud/credit risk and behavioral intelligence;
            tuned pipelines and dashboards to lower latency and improve prediction accuracy.
          </p>
        </article>

        <article class="xp">
          <div class="role">Software Engineer</div>
          <div class="meta">Adobe ¬∑ Noida, India ¬∑ Jun 2018 ‚Äì Jan 2020</div>
          <p class="desc">
            Modernized analytics pipelines on AWS (S3/Redshift/Glue), improving reporting latency by 40%;
            built dimensional models for customer intelligence and automated ETL schedules with SLA gains (+35%).
          </p>
        </article>
      </div>
    </section>

    <!-- Fun stats -->
    <section id="stats" class="stats" aria-label="Fun stats">
      <div class="stat-grid">
        <div class="stat"><div class="num" data-target="9">0</div><div class="label">Years of Experience</div></div>
        <div class="stat"><div class="num" data-target="25">0</div><div class="label">Programs Delivered</div></div>
        <div class="stat"><div class="num" data-target="40">0</div><div class="label">% Faster Turnarounds</div></div>
      </div>
    </section>

    <!-- Projects (auto from GitHub) -->
    <section id="projects" class="projects">
      <h2>Projects</h2>
      <p class="sub">A few public repos and experiments‚Äîanalytics, automation, and little utilities.</p>

      <div class="controls">
        <div class="left">
          <label>
            <span class="sr-only">Search</span>
            <input id="search" type="search" placeholder="Search repos‚Ä¶" />
          </label>
          <label>
            <span class="sr-only">Sort</span>
            <select id="sort">
              <option value="featured">Featured first</option>
              <option value="updated">Recently updated</option>
              <option value="name">Name A‚ÜíZ</option>
            </select>
          </label>
        </div>
        <div>
          <button id="loadMore" class="btn">Load more</button>
        </div>
      </div>

      <div id="repoGrid" class="repo-grid" aria-live="polite" aria-busy="true"></div>
      <div id="repoSkeletons" class="repo-grid" style="margin-top:10px"></div>
      <p id="repoError" style="display:none; color:var(--warn)">Couldn‚Äôt load GitHub repositories. Please refresh later.</p>
    </section>

    <!-- Contact -->
    <section id="contact">
      <h2>Contact</h2>
      <p class="sub">Best ways to reach me.</p>
      <div class="links">
        <a class="btn" href="tel:+14693322869">üìû (469) 332-2869</a>
        <a class="btn" href="mailto:karan.corporate25@gmail.com">‚úâÔ∏è karan.corporate25@gmail.com</a>
        <a class="btn" href="https://www.linkedin.com/in/karan-singh-8a6614374/" target="_blank" rel="noopener">LinkedIn</a>
        <a class="btn" href="https://github.com/karansingh400" target="_blank" rel="noopener">GitHub</a>
      </div>
    </section>

    <footer>
      <div class="container" style="padding:0">
        <small>¬© <span id="year"></span> Karan Pratap Singh</small>
      </div>
    </footer>
  </main>

  <div id="testStatus" aria-live="polite" class="pass" style="display:none"></div>

  <script>
  // ‚Äî‚Äî‚Äî Config ‚Äî‚Äî‚Äî
  const CONFIG = {
    githubUser: 'karansingh400',
    perPage: 12,
    maxRepos: 60,
    resumeUrl: 'resume.pdf'
  };

  // ‚Äî‚Äî‚Äî Theme toggle ‚Äî‚Äî‚Äî
  const themeBtn = document.getElementById('themeToggle');
  const saved = localStorage.getItem('theme');
  if(saved) document.documentElement.setAttribute('data-theme', saved);
  themeBtn.addEventListener('click', ()=>{
    const cur = document.documentElement.getAttribute('data-theme')||'dark';
    const next = (cur==='dark')?'light':'dark';
    document.documentElement.setAttribute('data-theme', next);
    localStorage.setItem('theme', next);
  });

  // Footer year + resume links
  document.getElementById('year').textContent = new Date().getFullYear();
  document.getElementById('resumeBtn').href = CONFIG.resumeUrl;

  // ‚Äî‚Äî‚Äî Projects from GitHub ‚Äî‚Äî‚Äî
  const repoGrid = document.getElementById('repoGrid');
  const repoSkeletons = document.getElementById('repoSkeletons');
  const repoError = document.getElementById('repoError');
  const search = document.getElementById('search');
  const sortSel = document.getElementById('sort');
  const loadMoreBtn = document.getElementById('loadMore');

  let allRepos = [];
  let shownCount = 0;

  function showSkeletons(n=8){
    repoSkeletons.innerHTML = '';
    for(let i=0;i<n;i++){
      const sk = document.createElement('div');
      sk.className = 'skeleton';
      repoSkeletons.appendChild(sk);
    }
    repoGrid.setAttribute('aria-busy','true');
  }
  function hideSkeletons(){ repoSkeletons.innerHTML = ''; repoGrid.setAttribute('aria-busy','false'); }

  function timeAgo(dateStr){
    const d = new Date(dateStr); const s = Math.floor((Date.now()-d.getTime())/1000);
    const t = [ ['y',31536000], ['mo',2592000], ['d',86400], ['h',3600], ['m',60] ];
    for(const [label,sec] of t){ if(s>=sec) return Math.floor(s/sec)+label; }
    return s+"s";
  }

  async function fetchRepos(){
    showSkeletons();
    try{
      const headers = {
        'Accept':'application/vnd.github+json',
        'X-GitHub-Api-Version':'2022-11-28'
      };
      let page=1; const gathered=[];
      while(gathered.length < CONFIG.maxRepos){
        const url = `https://api.github.com/users/${CONFIG.githubUser}/repos?sort=updated&per_page=100&page=${page}`;
        const res = await fetch(url,{headers});
        if(!res.ok) throw new Error(`GitHub API error ${res.status}`);
        const batch = await res.json();
        if(!Array.isArray(batch) || batch.length===0) break;
        gathered.push(...batch);
        if(batch.length < 100) break;
        page++;
      }
      allRepos = gathered
        .filter(r => !r.fork && !r.archived)
        .map(r => ({
          id:r.id,
          name:r.name,
          full_name:r.full_name,
          html_url:r.html_url,
          description:r.description,
          language:r.language,
          stargazers_count:r.stargazers_count,
          forks_count:r.forks_count,
          open_issues_count:r.open_issues_count,
          updated_at:r.updated_at,
          topics:r.topics||[],
          homepage:r.homepage
        }));
      render(true);
    }catch(err){
      console.error(err);
      repoError.style.display='block';
    }finally{ hideSkeletons(); }
  }

  function matchesQuery(repo, q){
    if(!q) return true;
    q=q.toLowerCase();
    const hay = [repo.name, repo.description, repo.language, ...(repo.topics||[])].filter(Boolean).join(' ').toLowerCase();
    return hay.includes(q);
  }

  function sortRepos(list){
    const how = sortSel.value;
    if(how==='name') return [...list].sort((a,b)=>a.name.localeCompare(b.name));
    if(how==='updated') return [...list].sort((a,b)=> new Date(b.updated_at)-new Date(a.updated_at));
    const withScore = list.map(r=>({r, score: r.topics?.includes('portfolio') ? 1 : 0}));
    return withScore
      .sort((a,b)=> (b.score - a.score) || (new Date(b.r.updated_at)-new Date(a.r.updated_at)))
      .map(x=>x.r);
  }

  function repoCard(r){
    // nicer wrapping for long names
    const safeName = r.name.replace(/([/_-])/g, '$1\u200b');
    const topics = (r.topics||[]).slice(0,5).map(t=>`<span class="topic">${t}</span>`).join('');
    const homepage = r.homepage ? `<a href="${r.homepage}" target="_blank" rel="noopener" class="btn" style="padding:6px 10px">Live</a>` : '';
    return `<article class="repo" aria-label="${r.name}">
      <h3><a href="${r.html_url}" target="_blank" rel="noopener">${safeName}</a></h3>
      <p>${r.description ? r.description.replace(/</g,'&lt;') : '‚Äî'}</p>
      <div class="meta">
        <span title="Primary language">üß© ${r.language || 'n/a'}</span>
        <span title="Last updated">‚è±Ô∏è ${timeAgo(r.updated_at)} ago</span>
      </div>
      <div class="meta">${topics}</div>
      <div class="meta">${homepage}</div>
    </article>`;
  }

  function render(reset=false){
    const q = search.value.trim();
    const filtered = allRepos.filter(r=>matchesQuery(r,q));
    const sorted = sortRepos(filtered);

    if(reset){ shownCount = 0; repoGrid.innerHTML=''; }

    const next = sorted.slice(shownCount, shownCount + CONFIG.perPage);
    repoGrid.insertAdjacentHTML('beforeend', next.map(repoCard).join(''));
    shownCount += next.length;

    loadMoreBtn.style.display = (shownCount < sorted.length) ? 'inline-flex' : 'none';
  }

  search.addEventListener('input', ()=> render(true));
  sortSel.addEventListener('change', ()=> render(true));
  loadMoreBtn.addEventListener('click', ()=> render(false));

  // Stats counters
  function animateCounters(){
    const nums = document.querySelectorAll('.stat .num');
    const tween = (el, start, end, t0, dur)=>{
      const t = Math.min(1, (performance.now()-t0)/dur);
      el.textContent = String(Math.floor(start + t*(end-start)));
      if(t<1) requestAnimationFrame(()=>tween(el,start,end,t0,dur));
    };
    const io = new IntersectionObserver((entries, obs)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          const el = e.target; const target = parseInt(el.getAttribute('data-target')||'0',10);
          tween(el, 0, target, performance.now(), 900);
          obs.unobserve(el);
        }
      });
    },{threshold:.6});
    nums.forEach(n=>io.observe(n));
  }
  animateCounters();

  fetchRepos();
  </script>

  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Karan Pratap Singh",
    "jobTitle": "Technical Program/Project Manager",
    "email": "mailto:karan.corporate25@gmail.com",
    "telephone": "+14693322869",
    "url": "https://karansingh400.github.io/",
    "sameAs": [
      "https://github.com/karansingh400",
      "https://www.linkedin.com/in/karan-singh-8a6614374/"
    ]
  }
  </script>
</body>
</html>
